<%-include("header.ejs") %>
<div class="pege-content">
  <div class="detail-container">
    <% if (locals.data) { %>
    <img
    <% if(!data.backdrop_path){ %>
      
      src="https://png.pngtree.com/png-clipart/20190925/original/pngtree-no-image-vector-illustration-isolated-png-image_4979075.jpg"
      
   <% } else { %>
       src="https://image.tmdb.org/t/p/w780<%=data.backdrop_path%>" 
   <%}%>
    
   />
    <div class="card-detail">
      <div class="content">
        <div class="poster-img">
          <img
          <% if(!data.poster_path){ %>
         
            src="https://png.pngtree.com/png-clipart/20190925/original/pngtree-no-image-vector-illustration-isolated-png-image_4979075.jpg"
            
         <% } else { %>
             src="https://image.tmdb.org/t/p/w500<%=data.poster_path%>" 
         <%}%>
          />
        </div>
        <div class="item-description">
          <div class="rating" <% if (data.vote_average.toFixed(1) * 10>
            69) { %> style=" --progress: <%=data.vote_average.toFixed(1) *
            10%>%; background: conic-gradient( green var(--progress, 0),
            rgb(181, 181, 181) 0% ); " <% } else if (70>
            data.vote_average.toFixed(1) * 10 && data.vote_average.toFixed(1) *
            10 >=49) { %> style=" --progress: <%=data.vote_average.toFixed(1) *
            10 %>%; background: conic-gradient(yellow var(--progress, 0),
            rgb(181, 181, 181) 0% ); " <% } else if (50>
            data.vote_average.toFixed(1) * 10 ){ %> style="
            --progress:<%=data.vote_average.toFixed(1) * 10%>%; background:
            conic-gradient(red var(--progress, 0), rgb(181, 181, 181) 0% ); "
            <%}%> >
            <div
              class="mask"
              aria-valuenow="<%= data.vote_average.toFixed(1)* 10 %>%"
              role="rating"
            ></div>
          </div>
        </div>
      </div>
      <div class="overview">
        <h1><%= data.name %></h1>
        <p class="overview-text"><%= data.overview%></p>

        <h4 class="released">Release Date: <%= data.first_air_date%></h4>
        <% locals.data.genres.forEach((genre) =>{ %>
        <li></li>
        <%}) %>
      </div>
      <% if (locals.recomendation.length >0) { %>
      <div class="similar">
        <h1 class="title">Similar Shows</h1>
        <%if (locals.recomendation.length >0) { %>

        <div class="recomended-show">
          <% locals.recomendation.forEach((movie)=> { %>
          <div class="movie-rec">
            <a href="/details-show/<%=movie.id%>">
              <img
                <% if(!movie.poster_path){ %>

                  src="https://png.pngtree.com/png-clipart/20190925/original/pngtree-no-image-vector-illustration-isolated-png-image_4979075.jpg"
                  
               <% } else { %>
                   src="https://image.tmdb.org/t/p/w500<%=movie.poster_path%>" 
               <%}%>
    
              />
            </a>
            
            <div class="rating-similar" <% if (movie.vote_average.toFixed(1)*10>
              69) { %> style="--rating:<%=movie.vote_average.toFixed(1)*10%>%;
              background:conic-gradient(green var(--rating, 0), rgb(181,181,181)
              0%);" <% } else if (70> movie.vote_average.toFixed(1)*10 &&
              movie.vote_average.toFixed(1)*10 >= 50){ %> style="--rating:<%=
              movie.vote_average.toFixed(1)*10%>%;
              background:conic-gradient(yellow var(--rating, 0),
              rgb(181,181,181) 0%);" <% } else { %> style="--rating: <%=
              movie.vote_average.toFixed(1)*10%>%; background:
              conic-gradient(red var(--rating, 0), rgb(181, 181, 181) 0%) " <% }
              %> >
              <div
                class="mask-similar"
                aria-valuenow="<%= movie.vote_average.toFixed(1)*10  %>%"
              ></div>
            </div>
          </div>

          <% }) %>
        </div>

        <% }%>
      </div>
      <% }%>
    </div>
  </div>
</div>
<%} %> <%- include("footer.ejs") %>
